<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    
    <title>Branlez moi svp</title>
</head>
<body>
    <div class="menu-buttons">
        <button id="btnProfile" title="Profil"><i class="fa-solid fa-user"></i></button>
        <button id="btnLeaderboard" title="Classement"><i class="fa-solid fa-trophy"></i></button>
        <button id="btnShop" title="Boutique"><i class="fa-solid fa-store"></i></button>
    </div>
    
    <div id="sideMenus" class="side-menus-container">

        <div id="menuProfile" class="side-menu">
            <button class="close-btn" onclick="closeAllMenus()">&times;</button>
            <h2>Profil Joueur</h2>
            
            <div id="loginSection">
                <p>Connecte-toi pour sauvegarder ta progression !</p>
                <input type="text" id="emailInput" placeholder="Email (ex: moi@gmail.com)">
                <input type="password" id="passwordInput" placeholder="Mot de passe">
                <button onclick="loginUser()" class="action-btn">Se connecter / S'inscrire</button>
            </div>
    
            <div id="profileInfo" class="hidden">
                <div class="avatar-circle"><i class="fa-solid fa-user"></i></div>
                <h3 id="displayUsername">Pseudo</h3>
                <p>Meilleur Score : <span id="profileHighScore">0</span></p>
                <p>Pièces : <span id="userCoins">0</span> <i class="fa-solid fa-coins"></i></p>
                <button onclick="logoutUser()" class="logout-btn">Déconnexion</button>
            </div>
        </div>
    
        <div id="menuLeaderboard" class="side-menu">
            <button class="close-btn" onclick="closeAllMenus()">&times;</button>
            <h2>Classement Mondial</h2>
            <ul class="leaderboard-list">
                <li>Chargement...</li>
            </ul>
        </div>
    
        <div id="menuShop" class="side-menu">
            <button class="close-btn" onclick="closeAllMenus()">&times;</button>
            <h2>Boutique</h2>
            <div class="wallet-display">
                Solde : <span id="shopCoins">0</span> <i class="fa-solid fa-coins" style="color:gold;"></i>
            </div>
            
            <div class="shop-grid">
                <div class="shop-item">
                    <div class="item-preview" style="background: #333;"></div>
                    <p>Skin Sombre</p>
                    <button class="buy-btn">500 <i class="fa-solid fa-coins"></i></button>
                </div>
                <div class="shop-item">
                    <div class="item-preview" style="background: pink;"></div>
                    <p>Fond Rose</p>
                    <button class="buy-btn">1000 <i class="fa-solid fa-coins"></i></button>
                </div>
                <div class="shop-item">
                    <div class="item-preview"><i class="fa-solid fa-music"></i></div>
                    <p>Son "UwU"</p>
                    <button class="buy-btn">250 <i class="fa-solid fa-coins"></i></button>
                </div>
            </div>
        </div>
    
    </div>

    <div class="timer-container">
        <div id="timerBar" class="timer-bar"></div>
    </div>
    <div>
        <p id="scoreDisplay" class="scoreDisplay">Score : 0</p>
    </div>
    <div class="zizi">
        <img src="img/penis.png" alt="mon zizi" id="ziziNormal">
        <img src="img/penis_red.png" alt="zizi rapide" id="ziziFast">
    </div>
    <div id="main" class="main">
        <img class="MainSvg" src="img/fist.png" alt="ma main">
    </div>
    <div id="gameOverScreen" class="game-over-screen hidden">
        <h1>C'EST FINI !</h1>
        <p>Ton score : <span id="finalScore">0</span></p>
        <p>Meilleur score : <span id="bestScore">0</span></p>
        <button onclick="restartGame()">REJOUER</button>
    </div>

    <script src="js/script.js"></script>
    <script src="js/index.js"></script>
    <script src="js/menu.js"></script>

</body>
</html>